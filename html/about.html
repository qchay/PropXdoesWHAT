<!DOCTYPE html>
<html>
<head>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
	<link rel="stylesheet" type="text/css" href="about.css">
	<title>PropXdoesWHAT</title>
</head>
<body>
	<header>
		<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
			<a class="navbar-brand" href="index.html">PropXdoesWHAT</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarSupportedContent">
				<ul class="navbar-nav mr-auto">
					<li class="nav-item">
						<a class="nav-link" href="laws.html">Laws</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="politicians.html">Politicians</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="action_groups.html">Action Groups</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="impacted_groups.html">Impacted Groups</a>
					</li>
					<li class="nav-item active">
						<a class="nav-link" href="">About<span class="sr-only">(current)</span></a>
					</li>
				</ul>
			</div>
		</nav>
	</header>
	<div>
		<div class="jumbotron jumbotron-fluid">
			<div class="container">
				<h1 class="display-4 text-center">Welcome to PropXdoesWHAT!</h1>
				<p class="lead text-center">
					This site is intended to provide information about current politicians and laws that have been recently passed. Furthermore, we provide information of affected groups by the laws and action groups if you feel like getting involved!
					<!-- This website was created to make impacted groups aware of upcoming laws that affect them, connect with advocacy/action groups concerned with those issues (either for help or to help campaign against). --></p>
					<h2 class="text-center">explanation of the interesting result of integrating disparate data</h2>
			</div>
		</div>
			<div class="card-deck">
				<div class="card">
					<img id="pic0" class="card-img-top" src="https://image.flaticon.com/icons/svg/24/24029.svg" alt="Card image cap">
					<div class="card-body">
						<h5 id="name0" class="card-name"></h5>
						<p class="card-text">
							<li id="bio0">Bio</li>
							<li id="tasks0">Responsibilities</li>
							<li id="commits0"></li>
							<li id="issues0"></li>
							<li id="issues-created0"></li>
						</p>
					</div>
				</div>
				<div id="pic1" class="card">
					<img class="card-img-top" src="https://image.flaticon.com/icons/svg/24/24029.svg" alt="Card image cap">
					<div class="card-body">
						<h5 id="name1" class="card-name"></h5>
						<p class="card-text">
							<li id="bio1">Bio</li>
							<li id="tasks1">Responsibilities</li>
							<li id="commits1"></li>
							<li id="issues1"></li>
							<li id="issues-created1"></li>
						</p>
					</div>
				</div>
				<div class="card">
					<img id="pic2" class="card-img-top" src="https://image.flaticon.com/icons/svg/24/24029.svg" alt="Card image cap">
					<div class="card-body">
						<h5 id="name2" class="card-name"></h5>
						<p class="card-text">
							<li id="bio2">Bio</li>
							<li id="tasks2">Responsibilities</li>
							<li id="commits2"></li>
							<li id="issues2"></li>
							<li id="issues-created2"></li>
						</p>
					</div>
				</div>
				<div class="card">
					<img id="pic3" class="card-img-top" src="https://image.flaticon.com/icons/svg/24/24029.svg" alt="Card image cap">
					<div class="card-body">
						<h5 id="name3" class="card-name"></h5>
						<p class="card-text">
							<li id="bio3">Bio</li>
							<li id="tasks3">Responsibilities</li>
							<li id="commits3"></li>
							<li id="issues3"></li>
							<li id="issues-created3"></li>
						</p>
					</div>
				</div>
				<div class="card">
					<img id="pic4" class="card-img-top" src="https://image.flaticon.com/icons/svg/24/24029.svg" alt="Card image cap">
					<div class="card-body">
						<h5 id="name4" class="card-name"></h5>
						<p class="card-text">
							<li id="bio4">Bio</li>
							<li id="tasks4">Responsibilities</li>
							<li id="commits4"></li>
							<li id="issues4"></li>
							<li id="issues-created4"></li>
						</p>
					</div>
				</div>
			</div>
		</div>
		<hr>
		<div class="text-center">
			<ul class="nav nav-pills mb-3 justify-content-center" id="pills-tab" role="tablist">
				<li class="nav-item">
					<a class="nav-link active" id="pills-stats-tab" data-toggle="pill" href="#pills-stats" role="tab" aria-controls="pills-stats" aria-selected="true">Stats</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" id="pills-data-tab" data-toggle="pill" href="#pills-data" role="tab" aria-controls="pills-data" aria-selected="false">Data</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" id="pills-tools-tab" data-toggle="pill" href="#pills-tools" role="tab" aria-controls="pills-tools" aria-selected="false">Tools</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" id="pills-misc-tab" data-toggle="pill" href="#pills-misc" role="tab" aria-controls="pills-misc" aria-selected="false">Misc</a>
				</li>
			</ul>
			<div class="tab-content" id="pills-tabContent">
				<div class="tab-pane fade show active" id="pills-stats" role="tabpanel" aria-labelledby="pills-stats-tab">
					<li id="total"></li>
					<li id="issues"></li>
					<li>0 unit tests</li>
				</div>
				<div class="tab-pane fade" id="pills-data" role="tabpanel" aria-labelledby="pills-data-tab">
					<li>links to the data sources</li>
					<li>description of how each was scraped</li>
				</div>
				<div class="tab-pane fade" id="pills-tools" role="tabpanel" aria-labelledby="pills-tools-tab">
					<li>Git		--- Version Control</li>
					<li>GitLab	--- Git repository hosting, issue tracking</li>
					<li>Postman	--- API design and testing % thing is a PoS though</li>
					<li>Grammarly	--- Spelling/grammar feedback for this report</li>
					<li>Piazza	--- Collecting User Stories from end users</li>
					<li>Slack --- Communication between group members</li>
					<li>Amazon Web Services --- Host html files</li>
					<li>NameCheap --- Custom domain name</li>

				</div>
				<div class="tab-pane fade" id="pills-misc" role="tabpanel" aria-labelledby="pills-misc-tab">
					<h4 class="text-center"><a href="https://gitlab.com/qchay/IDB">Gitlab Repo</a></h4>
					<h4 class="text-center"><a href="#">Postman API</a></h4>
				</div>
			</div>
		</div>
	</div>
	<!-- Optional JavaScript -->
	<!-- jQuery first, then Popper.js, then Bootstrap JS -->
	<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
</body>

</html>


<script type="text/javascript">
	var httpRequest = new XMLHttpRequest();
	var api = "https://gitlab.com/api/v4/projects/7226786/repository/contributors?private_token=oM2-Sn_4rwcBcuSsybbt";
	httpRequest.open("GET", api, false);
	httpRequest.send();
	var jsonResponse = JSON.parse(httpRequest.responseText)
	
	namesMapping = {
		"Jae Lee" : "Jae Lee",
		"jaelee0409" : "Jae Lee",
		"Chris" : "Chris Renard",
		"Rilne" : "Chris Renard",
		"Eder Garza" : "Eder Garza",
		"Dustin Huang" : "Dustin Huang",
		"Kevin Kuney" : "Kevin Kuney"};
	
	contributers = [
		"Jae Lee",
		"Chris Renard",
		"Eder Garza",
		"Dustin Huang",
		"Kevin Kuney"]; //just to force a stable order
	
	teamInfo = {
		"Jae Lee" : {
			"pic" : "https://cdn-images-1.medium.com/max/600/1*dSlgA9b88erlLC9iY6USHA.png",
			"tasks" : "",
			"bio" : ""},
		"Chris Renard": {
			"pic" : "https://image.flaticon.com/icons/svg/23/23716.svg",
			"tasks" : "Technical Writing",
			"bio" : ""},
		"Eder Garza": {
			"pic" : "https://cdn-images-1.medium.com/max/800/1*CH78x9KtC8Ldx1c8mZ3_VA.png",
			"tasks" : "",
			"bio" : ""},
		"Dustin Huang": {
			"pic" : "https://cdn-images-1.medium.com/max/1600/1*n5sA0_PmAj3zKQrwDfmW5Q.jpeg",
			"tasks" : "",
			"bio" : ""},
		"Kevin Kuney": {
			"pic" : "https://cdn-images-1.medium.com/max/800/1*r8nKFskJ8zCbEiOZFFDOBg.jpeg",
			"tasks" : "",
			"bio" : ""}
	}
	
	var commits = {};
	var issues = {};
	var totalCommits = 0;
	var totalIssues = 0;
	var totalIssuesClosed = 0;
	var issuesOpened = {};
	
	for(var x = 0; x < jsonResponse.length; x++)
	{
		var name = namesMapping[jsonResponse[x]["name"]];
		if(! commits.hasOwnProperty(name))
		{ commits[name] = 0; }
		commits[name] += jsonResponse[x].commits;
		totalCommits += jsonResponse[x].commits;
	}

	httpRequest = new XMLHttpRequest();
	api = "https://gitlab.com/api/v4/projects/7226786/issues?private_token=oM2-Sn_4rwcBcuSsybbt";
	httpRequest.open("GET", api, false);
	httpRequest.send();
	jsonResponse = JSON.parse(httpRequest.responseText)
	
	
	for(var x = 0; x < jsonResponse.length; x++)
	{
		if(jsonResponse[x]["closed_by"] != null)
		{
			var name = namesMapping[jsonResponse[x]["closed_by"]["name"]];
			if(! issues.hasOwnProperty(name))
			{ issues[name] = 0; }
			issues[name]++;
			totalIssuesClosed++;
		}
		if(jsonResponse[x]["author"] != null)
		{
			var name = namesMapping[jsonResponse[x]["author"]["name"]];
			if(! issues.hasOwnProperty(name))
			{ issuesOpened[name] = 0; }
			issuesOpened[name]++;
		}
		totalIssues++;
	}
	
	function pluralize(num, a, b)
	{
		if(num == null)
		{ num = 0; }
		if(num == 1)
		{ return num + " " + a; }
		else
		{ return num + " " + b;  }
	}
	
	for (i = 0; i < contributers.length; i++) {
		var name = contributers[i];
		$("#name" + i).html(name);
    	$("#commits" + i).html(pluralize(commits[name],'commit','commits'));
    	$("#issues" + i).html(pluralize(issues[name],'issue','issues') + " closed");
    	$("#issues-created" + i).html(pluralize(issuesOpened[name],'issue','issues') + " created");
		if(teamInfo[name]["bio"] !== "")
		{ $("#bio" + i).html(teamInfo[name]["bio"]); }
		if(teamInfo[name]["tasks"] !== "")
		{ $("#tasks" + i).html(teamInfo[name]["tasks"]); }
		if(teamInfo[name].hasOwnProperty("pic"))
		{ $("#pic" + i).attr("src", teamInfo[name]["pic"]) };
	}
	$("#total").html(totalCommits + " Total Commits");
	$("#issues").html(totalIssuesClosed + " of " + totalIssues + " Issues Closed");
</script>